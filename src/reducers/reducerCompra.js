import { TYPES } from "../actions/accionCompra";

export const estadoInicialCompra = {
  products: [
    {id: 1 ,
      titulo:" BOLSAS ASPIRADORA EQUIPT X 3 UNIDADES ",
       imagen: "/1.jpeg",
       precio: 35000 ,
       descripcion:"" },
      
       {id: 2 ,
      titulo:" BOLSAS ASPIRADORA INGE /TRIO X 3 UNIDADES ",
       imagen: "/2.jpeg",
       precio: 35000 ,
       descripcion:"" },
      
       {id: 3 ,
      titulo:" BOLSAS ASPIRADORA NEO /LISTO X 3 UNIDADES ",
       imagen: "/3.jpeg",
       precio: 35000 ,
       descripcion:"" },
      
       {id: 4 ,
      titulo:" BOLSAS ASPIRADORA GT-3000 /GT30N /A20 X 3 UNIDADES ",
       imagen: "/4.jpeg",
       precio: 42000 ,
       descripcion:"" },
      
       {id: 5 ,
      titulo:" BOLSAS ASPIRADORA Z99 X 10 UNIDADES ",
       imagen: "/5.jpeg",
       precio: 35000 ,
       descripcion:"" },
      
       {id: 6 ,
      titulo:" BOLSAS ASPIRADORA Z102 X 5 UNIDADES ",
       imagen: "/6.jpeg",
       precio: 45000 ,
       descripcion:"" },
      
       {id: 7 ,
      titulo:" BOLSAS ASPIRADORA NANO X 3 UNIDADES ",
       imagen: "/7.jpeg",
       precio: 30000 ,
       descripcion:"" },
      
       {id: 8 ,
      titulo:" BOLSA LARGA DURACIÓN POR UNIDAD ULTRASILENCE /EQUIPT ",
       imagen: "/8.jpeg",
       precio: 28000 ,
       descripcion:"" },
      
       {id: 9 ,
      titulo:" KIT FILTROS ASPIRADORA LIT21  ",
       imagen: "/9.jpeg",
       precio: 55000 ,
       descripcion:"" },
      
       {id: 10 ,
      titulo:" KIT FILTROS ASPIRADORA EASYBOX PLUS ",
       imagen: "/10.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 11 ,
      titulo:" FILTRO ASPIRADORA ERGOLITE ",
       imagen: "/11.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 12 ,
      titulo:" FILTRO ASPIRADORA ERGOEASY ",
       imagen: "/12.jpeg",
       precio: 55000 ,
       descripcion:"" },
      
       {id: 13 ,
      titulo:" KIT FILTROS ASPIRADORA LIT31 ",
       imagen: "/13.jpeg",
       precio: 55000 ,
       descripcion:"" },
      
       {id: 14 ,
      titulo:" KIT FILTROS EQUIPT ",
       imagen: "/14.jpeg",
       precio: 50000 ,
       descripcion:"" },
      
       {id: 15 ,
      titulo:" KIT FILTROS STK10 X 2 UNIDADES ",
       imagen: "/15.jpeg",
       precio: 50000 ,
       descripcion:"" },
      
       {id: 16 ,
      titulo:" KIT FILTROS STK12 /STK14 ",
       imagen: "/16.jpeg",
       precio: 45000 ,
       descripcion:"" },
      
       {id: 17 ,
      titulo:" KIT FILTROS PTE10 ",
       imagen: "/17.jpeg",
       precio: 45000 ,
       descripcion:"" },
      
       {id: 18 ,
      titulo:" KIT FILTROS X 2 UNIDADES ERG10 A ERG25  ",
       imagen: "/18.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 19 ,
      titulo:" KIT FILTROS X 2 UNIDADES ERG26 /ERG27 ",
       imagen: "/19.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 20 ,
      titulo:" FILTRO ASPIRADORA STK1 ",
       imagen: "/20.jpeg",
       precio: 35000 ,
       descripcion:"" },
      
       {id: 21 ,
      titulo:" FILTRO ASPIRADORA LITE ",
       imagen: "/21.jpeg",
       precio: 55000 ,
       descripcion:"" },
      
       {id: 22 ,
      titulo:" FILTRO ASPIRADORA AIRMAX /JETMAXX ",
       imagen: "/22.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 23 ,
      titulo:" KIT FILTROS PUREF9 ",
       imagen: "/23.jpeg",
       precio: 75000 ,
       descripcion:"" },
      
       {id: 24 ,
      titulo:" KIT FILTROS EQP10, EQP20 ",
       imagen: "/24.jpeg",
       precio: 48000 ,
       descripcion:"" },
      
       {id: 25 ,
      titulo:" FILTRO HEPA ASPIRADORA BERRY ",
       imagen: "/25.jpeg",
       precio: 40000 ,
       descripcion:"" },
      
       {id: 26 ,
      titulo:" FILTRO PERMANENTE ASPIRADORA A10 ",
       imagen: "/26.jpeg",
       precio: 38000 ,
       descripcion:"" },
      
       {id: 27 ,
      titulo:" CEPILLO PISO SON10 (BÁSICO) ",
       imagen: "/27.jpeg",
       precio: 58000 ,
       descripcion:"" },
      
       {id: 28 ,
      titulo:" CEPILLO UNIVERSAL CON RUEDAS  ",
       imagen: "/28.jpeg",
       precio: 70000 ,
       descripcion:"" },
      
       {id: 29 ,
      titulo:" CEPILLO COMBY ",
       imagen: "/29.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 30 ,
      titulo:" BOQUILLA PET EASYBOX ",
       imagen: "/30.jpeg",
       precio: 60000 ,
       descripcion:"" },
      
       {id: 31 ,
      titulo:" BOQUILLA RINCONERA CORTA ",
       imagen: "/31.jpeg",
       precio: 20000 ,
       descripcion:"" },
      
       {id: 32 ,
      titulo:" BOQUILLA RINCONERA ASPIRADORA Z99 /Z102 ",
       imagen: "/32.jpeg",
       precio: 25000 ,
       descripcion:"" },
      
       {id: 33 ,
      titulo:" BOQUILLA DOBLE SERVICIO UNIVERSAL ",
       imagen: "/33.jpeg",
       precio: 22000 ,
       descripcion:"" },
      
       {id: 34 ,
      titulo:" CEPILLO TEXTILERO UNIVERSAL ",
       imagen: "/34.jpeg",
       precio: 38000 ,
       descripcion:"" },
      
       {id: 35 ,
      titulo:" MANGUERA ASPIRADORA Z99 /Z102 ",
       imagen: "/35.jpeg",
       precio: 135000 ,
       descripcion:"" },
      
       {id: 36 ,
      titulo:" MANGUERA COMPLETA EASY ",
       imagen: "/36.jpeg",
       precio: 95000 ,
       descripcion:"" },
      
       {id: 37 ,
      titulo:" TUBO EXTENSOR PLÁSTICO X UNIDAD ",
       imagen: "/37.jpeg",
       precio: 25000 ,
       descripcion:"" },
      
       {id: 38 ,
      titulo:" TUBO EXTENSOR PLÁSTICO EASY X UNIDAD ",
       imagen: "/38.jpeg",
       precio: 28000 ,
       descripcion:"" },
  ],
  cart: [],
  totalQuantity: 0,
};

export function reducerCompra(state, action) {

  switch (action.type) {
    case TYPES.AGREGAR_CARRITO: {
      let nuevoItem = state.products.find(
        (product) => product.id === action.payload
      );

      let itemEnCarrito = state.cart.find((item) => item.id === nuevoItem.id);
      return itemEnCarrito
        ? {
            ...state,
            cart: state.cart.map((item) =>
              item.id === nuevoItem.id
                ? { ...item, cantidad: item.cantidad + 1 }
                : item
            ),
            totalQuantity: state.totalQuantity + 1,
          }
        : {
            ...state,
            cart: [...state.cart, { ...nuevoItem, cantidad: 1 }],
            totalQuantity: state.totalQuantity + 1,            
          };
    }
    case TYPES.REMOVER_ELEMENTO_CARRITO: {

      let item_para_remover = state.cart.find(
        (item) => item.id === action.payload
      );

      return item_para_remover.cantidad > 1
        ? {
            ...state,
            cart: state.cart.map((item) =>
              item.id === action.payload
                ? { ...item, cantidad: item.cantidad - 1 }
                : { ...item }
            ),
            totalQuantity: state.totalQuantity - 1,
          }
        : {
            ...state,
            cart: state.cart.filter((item) => item.id !== action.payload),
            totalQuantity: state.totalQuantity - 1,
          };
    }

    case TYPES.LIMPIAR_TODO_CARRITO:
      return estadoInicialCompra;
    default:
      return state;
  }
}
